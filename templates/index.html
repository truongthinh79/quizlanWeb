{% extends 'base.html' %}{% block title %}Trang chủ{% endblock %}
{% block content %}
<div class="row justify-content-center">
  <div class="col-md-6">
    <div class="card shadow-sm">
      <div class="card-header bg-success text-white">Học sinh - Tham gia kỳ thi</div>
      <div class="card-body">
        <button class="btn btn-primary mb-3" onclick="toggleStudentCodeForm()">Bắt đầu</button>
        <div id="student-code-form" style="display:none;">
          <div class="mb-3 input-group">
            <input id="access_code" class="form-control" placeholder="Mã kỳ thi (VD: ABC123)">
            <button class="btn btn-success" onclick="checkCode()">Xác nhận</button>
          </div>
          <p id="codeStatus"></p>
        </div>
        <div id="student-form" style="display:none;">
          <div class="mb-3">
            <label class="form-label">Lớp</label>
            <select id="classSel" class="form-select" onchange="onClassChange()">
              <option value="">-- Chọn lớp --</option>
              {% for c in classes %}
                <option value="{{ c }}">{{ c }}</option>
              {% endfor %}
            </select>
          </div>
          <div class="mb-3">
            <label class="form-label">Học sinh</label>
            <select id="nameSel" class="form-select">
              <option value="">-- Chọn tên --</option>
            </select>
          </div>
          <button class="btn btn-success" onclick="joinQuiz()">Vào thi</button>
          <p id="joinStatus"></p>
          <hr>
          <p class="text-muted">Nếu tên không có trong danh sách, liên hệ giáo viên để được thêm vào lớp hoặc giáo viên có thể thêm thủ công trong phần Admin.</p>
        </div>
      </div>
    </div>
  </div>
  <div class="col-md-6">
    <div class="card shadow-sm">
      <div class="card-header bg-primary text-white">Giáo viên - Quản trị</div>
      <div class="card-body">
        <button class="btn btn-primary mb-3" onclick="toggleTeacherForm()">Đăng nhập</button>
        <div id="teacher-form" style="display:none;">
          <form method="post" action="/admin/login">
            <div class="mb-3"><input type="password" name="password" class="form-control" placeholder="Mật khẩu admin" required></div>
            <button class="btn btn-primary">Đăng nhập</button>
          </form>
          <p class="mt-2"><small>Mật khẩu mặc định: admin123 — đổi trong Admin.</small></p>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}